{% extends "base.html" %}
{% load result_extras %}
{% block page_title %}
    {{ predicting_target.name }}
{% endblock %}
{% block page_description %}
    {{ predicting_job.name }}
{% endblock %}
{% block content %}

    {% if error_message %}
    <b>{{ error_message }}</b>
    {% endif %}

    {% if sample_data %}

    <script>
    var messageBody = document.querySelector('#messageBody');
    messageBody.scrollTop = messageBody.scrollHeight
    </script>

    <style>
        .divScroll {
        height: 80vh;
        width: 100%;
        overflow: scroll;
        }
    </style>

    <div class="row">
        <div class="col-12">
            <div class="divScroll" id="messageBody">
                <table id="result-table" class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th data-data="task_id">任務ID</th>
                        <th data-data="source_author">來源作者</th>
                        <th data-data="panel">標籤</th>
                        <th data-data="create_time">爬取時間</th>
                        <th data-data="field_content">來源ID</th>
                        <th data-data="match_content">命中內容</th>
                        <th data-data="match_meta">命中規則</th>
                    </tr>
                </thead>
                <tbody>
                {% for row in sample_data %}
                    <tr>
                        <td>{{ row.task_id }}</td>
                        <td>{{ row.source_author }}</td>
                        <td>{{ row.panel }}</td>
                        <td>{{ row.create_time }}</td>
                        <td>{{ row.field_content }}</td>
                        <td>{{ row.match_content }}</td>
                        <td>{{ row.match_meta }}</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
            </div>
        </div>
    </div>



    {% endif %}


{% endblock %}
