{% extends "base.html" %}

{% block title %}任務{% endblock %}
{% block nav_title %}
    資料標記任務
{% endblock %}
{% block page_title %}{{ labeling_job.name }}{% endblock %}
{% block page_functions %}
    <a href="{% url 'labeling_jobs:job-detail' labeling_job.id %}">上一頁</a>
{% endblock %}
{% block page_info %}
    {% for label in labeling_job.label_set.all %}
        <span class="badge badge-pill badge-{% cycle 'primary' 'secondary' 'warning' 'info' 'success' 'danger' 'light' 'dark' %}"
              data-toggle="tooltip" data-placement="top"
              title="{{ label.description }}"><i class="fas fa-tag"></i> {{ label }}</span>
    {% endfor %}
{% endblock %}
{% block page_description %}
    <p>{{ labeling_job.description }}</p>
{% endblock %}
{% block content %}
    <ul>
        {% for doc in page_obj %}
            <li><a href="">{{ doc.title }}</a>, <p>{{ doc.content }}</p>
                {% for label in labeling_job.label_set.all %}
                    <span class="badge badge-pill badge-{% cycle 'primary' 'secondary' 'warning' 'info' 'success' 'danger' 'light' 'dark' %}"
                          data-toggle="tooltip" data-placement="top"
                          {% if label not in doc.labels.all %}hidden{% endif %}
                          title="{{ label.description }}"><i class="fas fa-tag"></i> {{ label }}</span>
                {% endfor %}
                {% resetcycle %}
            </li>
        {% empty %}
            <p>沒有文件</p>
        {% endfor %}
    </ul>
    <div class="col-12 pagination text-center">
            <span class="step-links">
                {% if page_obj.has_previous %}
                    <a href="?page={{ page_obj.previous_page_number }}">上一頁</a>
                {% endif %}

                <span class="current">
                     {{ page_obj.number }} / {{ paginator.num_pages }}.
                </span>

                {% if page_obj.has_next %}
                    <a href="?page={{ page_obj.next_page_number }}">下一頁</a>
                {% endif %}
            </span>
    </div>
{% endblock %}